<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	
	<!--
	     INDEXES
	-->

    <bean id="fsDirectory" class="org.springmodules.lucene.index.support.FSDirectoryFactoryBean">
    	<property name="location">
    		<value>${lucene.index.dir}</value>
    	</property>
    	<property name="create">
    		<value>${lucene.create}</value>
    	</property>
    	
    </bean>
	
	
	<bean id="indexFactory" class="org.springmodules.lucene.index.support.SimpleIndexFactoryBean">
        <property name="directory"><ref local="fsDirectory" /></property>
        <property name="analyzer">
            <ref bean="cnAnalyzer"/>
        </property>
        <property name="resolveLock">
        	<value>true</value>
        </property>
	</bean>

	<!--
	     INDEXING
	-->

	<!-- bean id="documentHandlerManager" class="org.springmodules.lucene.index.support.handler.file.ExtensionDocumentHandlerManagerFactoryBean">
		<property name="documentHandlers">
			<map>
				<entry key="pdf"><bean class="org.springmodules.samples.lucene.index.file.handlers.PdfBoxDocumentHandler"/></entry>
				<entry key="rtf"><bean class="org.springmodules.samples.lucene.index.file.handlers.DefaultRtfDocumentHandler"/></entry>
				<entry key="xls"><bean class="org.springmodules.samples.lucene.index.file.handlers.JExcelDocumentHandler"/></entry>
				<entry key="doc"><bean class="org.springmodules.samples.lucene.index.file.handlers.PoiWordDocumentHandler"/></entry>
			</map>
		</property>
	</bean -->
	<bean id="indexAccessor" class="corner.orm.lucene.IndexAccessor">
    	<property name="indexFactory"><ref local="indexFactory"/></property>
    	<!-- property name="documentHandlerManager"><ref local="documentHandlerManager"/></property -->
	</bean>

	

	<!--
	     SEARCHING
	-->

    <bean id="searcherFactory" class="org.springmodules.lucene.search.factory.SimpleSearcherFactory">
        <property name="directory"><ref local="fsDirectory" /></property>
    </bean>
    
    <bean id="searchAccessor" class="corner.orm.lucene.SearchAccessor">
    	<property name="searcherFactory"><ref bean="searcherFactory"/></property>
    	<property name="analyzer"><ref bean="cnAnalyzer"/></property>
  	</bean>
	<bean id="cnAnalyzer" class="org.apache.lucene.analysis.cn.ChineseAnalyzer">
	</bean>
	<bean id="standardAnalyzer" class="org.apache.lucene.analysis.standard.StandardAnalyzer">
	</bean>
	<bean id="cjkIndexAnalyzer" class="org.apache.lucene.analysis.cjk.CJKAnalyzer">
	</bean>
</beans>